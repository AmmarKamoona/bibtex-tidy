<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Online BibTeX Tidy - Clean up BibTeX files</title>
	<meta lang="en" name="description" content="Online tool for cleaning up messy BibTeX files by making spacing consistent, removing duplicates, removing unwanted properties, and sorting entries.">
	<link rel="stylesheet" href="lib/codemirror.min.css">
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="editor">
		<textarea>
Click Tidy to clean up the entries below      
@Book{sweig42,
  Author =	 { Stefa{n} Sweig },
  title =	 { The impossible book },
  publisher =	 { Dead Poet Society},
  year =	 1942,
  month =        mar
}
@article{steward03,
  author =	 {Martha Steward},
  title =	 {Cooking behind bars}, publisher = "Culinary Expert Series",
  year = {2003}
}
@Book{impossible,
  Author =	 { Stefan Sweig },
  title =	 { The impossible book },
  publisher =	 { Dead Poet Society},
  year =	 1942,
  month =        mar
}
		</textarea>
	</div>

	<div id="sidebar">
		<form name="options" onsubmit="return false">
			<h1>BibTeX Tidy</h1>
			<p>This tool tidies bibtex files by fixing inconsistent whitespace, removing duplicates, removing unwanted properties, and sorting entries.</p>
			<p><a class="btn" href="https://github.com/FlamingTempura/bibtex-tidy">Github</a> <a class="btn" href="https://github.com/FlamingTempura/bibtex-tidy/issues">Report a bug</a></p>

			<h3>Whitespace</h3>
			<label><input name="indent" type="radio" value="tabs" checked="checked"> Indent with tabs</label>
			<label>
				<input name="indent" type="radio" value="spaces"> Indent with spaces
				<div class="suboptions">
					Spaces: <input name="spaces" type="number" value="2">
				</div>
			</label>
			<label title="Insert whitespace between properties and values so that values are aligned">
				<input name="enablealign" type="checkbox" checked="checked"> Align values
				<div class="suboptions">
					Align values at column: <input name="align" type="number" value="13">
				</div>
			</label>

			<h3>Values</h3>

			<label title="Enclose property values in curly brackets (not quotes)">
				<input name="curly" type="checkbox" checked="checked"> Use curly braces for values
			</label>
			<label title="For example, convert {1998} to 1998">
				<input name="numeric" type="checkbox" checked="checked"> Use numeric values where possible
			</label>
			<label title="For example, convert {{Journal of Tea}} to {Journal of Tea}"><input name="strip" type="checkbox"> Strip enclosing braces</label>
			<label title="For example, convert {JOURNAL OF TEA} to {Journal of Tea}"><input name="dropcaps" type="checkbox"> Drop all caps</label>

			<h3>Sorting</h3>

			<label>
				<input name="sort" type="checkbox">
				Sort bibliography entries
				<div class="suboptions">
				 	Properties to sort by: <br>
					<textarea name="sortkeys">id</textarea><br>
					(space delimited, e.g: id type publisher author)
				</div>
			</label>

			<label title="Properties will be ordered as title, author, year, month, day, journal">
				<input name="sortp" type="checkbox" checked="checked"> Sort properties
				<div class="suboptions">
				 	Property order: <br>
					<textarea name="sortpkeys" value>title shorttitle author year month day journal booktitle location on publisher address series volume number pages doi isbn issn url urldate copyright category note metadata</textarea><br>
					(space delimited, e.g: title author year)
				</div>
			</label>

			<h3>Clean up</h3>

			<label><input name="merge" type="checkbox" checked="checked"> Merge duplicates</label>
			<label><input name="omit" type="checkbox">
				Remove specified properties
				<div class="suboptions">
				 	Properties to sort by: <br>
					<textarea name="omitkeys" placeholder="e.g. abstract keywords"></textarea><br>
					(space delimited, e.g: id type publisher author)
				</div>
			</label>
			<label><input name="stripcomments" type="checkbox"> Remove comments</label>
		</form>

		<div class="run">
			<div id="feedback"></div>
			<button id="tidy">Tidy</button>
		</div>
	</div>

	<div id="dlg">
		<div id="dlginner">
			<button id="dlgclose">&times;</button>
			<div id="dlgcontent">
			</div>
		</div>
	</div>

	<script src="lib/bibtex-tidy.js"></script>
	<script src="lib/codemirror.min.js"></script>
	<script src="lib/codemirror.simple.js"></script>
	<script src="main.js"></script>
</body>
</html>
